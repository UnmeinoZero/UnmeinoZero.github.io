<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>imegeTest</title>
      <link href="/archives/99833c88.html"/>
      <url>/archives/99833c88.html</url>
      
        <content type="html"><![CDATA[<p><img src="http://rtr29jvsv.bkt.clouddn.com/image/202304271040300.png"></p><p><img src="http://rtr29jvsv.bkt.clouddn.com/image/202304271039700.jpg"></p><p><img src="http://rtr29jvsv.bkt.clouddn.com/image/202304271039884.jpg"></p>]]></content>
      
      
      
        <tags>
            
            <tag> 编程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CentOS7中mysql主从复制相关问题</title>
      <link href="/archives/d99528e5.html"/>
      <url>/archives/d99528e5.html</url>
      
        <content type="html"><![CDATA[<p><strong><em>mysql主从复制相关问题</em></strong></p><h2 id="克隆后网络UUID和ip相同"><a href="#克隆后网络UUID和ip相同" class="headerlink" title="克隆后网络UUID和ip相同"></a>克隆后网络UUID和ip相同</h2><br><p>查看主从服务器UUID和ip是否相同，相同需要修改<br><br><br><br><strong>解决方法</strong></p><h3 id="修改IP"><a href="#修改IP" class="headerlink" title="修改IP"></a>修改IP</h3><p>查看IP信息</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ip a</span><br></pre></td></tr></table></figure><p><img src="http://rtr29jvsv.bkt.clouddn.com/image/202304271144657.png" alt="image-20230427114430611"><br>这里是ens33，所以修改文件 ifcfg-ens33<br><br></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">vim /etc/sysconfig/network-scripts/ifcfg-ens33</span><br></pre></td></tr></table></figure><p><img src="http://rtr29jvsv.bkt.clouddn.com/image/202304271147700.png" alt="image-20230427114716667"><br>修改这里的ip地址<br><br><br><br>保存退出，重启网络</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">service network restart</span><br></pre></td></tr></table></figure><p><br><br></p><h3 id="修改UUID"><a href="#修改UUID" class="headerlink" title="修改UUID"></a>修改UUID</h3><p>查看UUID</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">nmcli con show</span><br></pre></td></tr></table></figure><br><p>生成一个UUID</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> UUID();  </span><br></pre></td></tr></table></figure><br><p>到此路径下修改UUID</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">vim /var/lib/mysql/auto.cnf</span><br></pre></td></tr></table></figure><p><img src="http://rtr29jvsv.bkt.clouddn.com/image/202304272047553.png"><br><br><br>重启mysql服务</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">systemctl restart mysqld</span><br></pre></td></tr></table></figure><p><br><br></p><h2 id="主从服务器之间网络连接不正常"><a href="#主从服务器之间网络连接不正常" class="headerlink" title="主从服务器之间网络连接不正常"></a>主从服务器之间网络连接不正常</h2><br><p>测试链接是否正常（需安装telnet）</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">yum install telnet</span><br></pre></td></tr></table></figure><br><p>填入你要连接的ip 端口</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">telnet 192.168.78.128 3306</span><br></pre></td></tr></table></figure><p>出现 “Connected”说明连接成功<br><br><br><br><strong>解决方法</strong></p><p>去主服务器关闭防火墙或开放端口<br><img src="http://rtr29jvsv.bkt.clouddn.com/image/202304271056106.png" alt="防火墙相关操作"><br><br><br><br>重启网络</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">service network restart</span><br></pre></td></tr></table></figure><p><br><br></p><h2 id="授权问题"><a href="#授权问题" class="headerlink" title="授权问题"></a>授权问题</h2><br>使用 MySQL 客户端命令测试主从服务器之间的 MySQL 用户授权情况<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql -h 192.168.78.128 -u uzero -p root</span><br></pre></td></tr></table></figure><br><p>如果在使用以上命令时出现 “Access denied” 的错误，说明该用户没有被正确授权或密码错误<br><br><br></p><p><strong>解决方法</strong></p><h3 id="密码问题"><a href="#密码问题" class="headerlink" title="密码问题"></a>密码问题</h3><p>在主服务器修改用户密码（指修改实现主从复制而主服务器创建的新用户并非root）</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">USER</span> <span class="string">&#x27;uzero&#x27;</span>@<span class="string">&#x27;%&#x27;</span> IDENTIFIED <span class="keyword">BY</span> <span class="string">&#x27;root&#x27;</span>;</span><br></pre></td></tr></table></figure><br><p>修改密码可能出现密码不符合规则<br><br></p><p>查看密码当前规则</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> VARIABLES <span class="keyword">LIKE</span> <span class="string">&#x27;validate_password%&#x27;</span>;</span><br></pre></td></tr></table></figure><br>修改密码策略等级<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">set</span> <span class="keyword">global</span> validate_password.policy<span class="operator">=</span>LOW;</span><br></pre></td></tr></table></figure><br>设置是否校验<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">set</span> <span class="keyword">global</span> validate_password.check_user_name<span class="operator">=</span>off;</span><br></pre></td></tr></table></figure><br>设置长度至少为1<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">set</span> <span class="keyword">global</span> validate_password.length<span class="operator">=</span><span class="number">1</span>;</span><br></pre></td></tr></table></figure><p><br><br></p><h3 id="授权问题-1"><a href="#授权问题-1" class="headerlink" title="授权问题"></a>授权问题</h3><p><strong>主库给予用户授权</strong><br><br><br>创建用户</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">&#x27;uzero&#x27;</span>@<span class="string">&#x27;%&#x27;</span> IDENTIFIED <span class="keyword">BY</span> <span class="string">&#x27;root&#x27;</span>;</span><br></pre></td></tr></table></figure><br>给与授权<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> REPLICATION SLAVE <span class="keyword">ON</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">TO</span> <span class="string">&#x27;uzero&#x27;</span>@<span class="string">&#x27;%&#x27;</span> <span class="keyword">WITH</span> <span class="keyword">GRANT</span> OPTION;</span><br></pre></td></tr></table></figure><br>**从库执行sql**<p>停止之前的 slave</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">STOP SLAVE;</span><br></pre></td></tr></table></figure><br>清除之前的 slave信息<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">RESET SLAVE;</span><br></pre></td></tr></table></figure><br>配置<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">CHANGE MASTER <span class="keyword">TO</span> MASTER_HOST<span class="operator">=</span><span class="string">&#x27;主服务器IP地址&#x27;</span>, MASTER_USER<span class="operator">=</span><span class="string">&#x27;用户名&#x27;</span>, MASTER_PASSWORD<span class="operator">=</span><span class="string">&#x27;密码&#x27;</span>, MASTER_LOG_FILE<span class="operator">=</span><span class="string">&#x27;mysql-bin.XXXXXX&#x27;</span>, MASTER_LOG_POS<span class="operator">=</span>XXX;</span><br></pre></td></tr></table></figure><br>启动<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">START</span> SLAVE;</span><br></pre></td></tr></table></figure><br>查看状态<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> SLAVE STATUS\G;</span><br></pre></td></tr></table></figure><br>确认 Slave_IO_Running 和 Slave_SQL_Running 字段的值都为 Yes]]></content>
      
      
      
        <tags>
            
            <tag> 编程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>我的第一篇博客文章</title>
      <link href="/archives/b24dd347.html"/>
      <url>/archives/b24dd347.html</url>
      
        <content type="html"><![CDATA[<p><strong><em>基于hexo创建博客</em></strong></p><p>安装Nodejs</p><p><a href="https://nodejs.org/zh-cn">https://nodejs.org/zh-cn</a></p><p>#查看node版本</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">node -v</span><br></pre></td></tr></table></figure><h1 id="查看npm版本"><a href="#查看npm版本" class="headerlink" title="查看npm版本"></a>查看npm版本</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm -v</span><br></pre></td></tr></table></figure><h1 id="安装淘宝的cnpm-管理器"><a href="#安装淘宝的cnpm-管理器" class="headerlink" title="安装淘宝的cnpm 管理器"></a>安装淘宝的cnpm 管理器</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install -g cnpm --registry=http://registry.npm.taobao.org</span><br></pre></td></tr></table></figure><h1 id="查看cnpm版本"><a href="#查看cnpm版本" class="headerlink" title="查看cnpm版本"></a>查看cnpm版本</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cnpm -v</span><br></pre></td></tr></table></figure><h1 id="安装hexo框架"><a href="#安装hexo框架" class="headerlink" title="安装hexo框架"></a>安装hexo框架</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cnpm install -g hexo-cli</span><br></pre></td></tr></table></figure><h1 id="查看hexo版本"><a href="#查看hexo版本" class="headerlink" title="查看hexo版本"></a>查看hexo版本</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo -v</span><br></pre></td></tr></table></figure><h1 id="创建blog目录"><a href="#创建blog目录" class="headerlink" title="创建blog目录"></a>创建blog目录</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mkdir blog</span><br></pre></td></tr></table></figure><h1 id="进入blog目录"><a href="#进入blog目录" class="headerlink" title="进入blog目录"></a>进入blog目录</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd blog</span><br></pre></td></tr></table></figure><h1 id="生成博客-初始化博客"><a href="#生成博客-初始化博客" class="headerlink" title="生成博客 初始化博客"></a>生成博客 初始化博客</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure><h1 id="启动本地博客服务"><a href="#启动本地博客服务" class="headerlink" title="启动本地博客服务"></a>启动本地博客服务</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure><h1 id="本地访问地址"><a href="#本地访问地址" class="headerlink" title="本地访问地址"></a>本地访问地址</h1><p><a href="http://localhost:4000/">http://localhost:4000/</a></p><h1 id="创建新的文章"><a href="#创建新的文章" class="headerlink" title="创建新的文章"></a>创建新的文章</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo n &quot;我的第一篇文章&quot;</span><br></pre></td></tr></table></figure><h1 id="返回blog目录"><a href="#返回blog目录" class="headerlink" title="返回blog目录"></a>返回blog目录</h1><h1 id="清理"><a href="#清理" class="headerlink" title="清理"></a>清理</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo clean </span><br></pre></td></tr></table></figure><h1 id="生成"><a href="#生成" class="headerlink" title="生成"></a>生成</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo g</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> 编程 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
